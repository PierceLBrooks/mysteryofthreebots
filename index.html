<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>MysteryBot</title>
    <link rel="stylesheet" href="css/main.css"/>
    <link rel="stylesheet" href="css/buttons.css"/>
    <link rel="stylesheet" href="css/chat.css"/>
    <link rel="stylesheet" href="css/nav_buttons.css"/>
    <link rel="stylesheet" href="css/police_notes.css"/>
    <link rel="stylesheet" href="css/dialogs.css"/>
    <link rel="stylesheet" href="css/map.css"/>
    <link rel="stylesheet" href="css/solve.css"/>
    <link rel="stylesheet" href="css/help.css"/>
    <link rel="stylesheet" href="css/how.css"/>
    <link rel="stylesheet" href="css/notebook.css"/>
    <link rel="stylesheet" href="css/win_dialog.css"/>
    <link rel="stylesheet" href="css/incorrect_solution_dialog.css"/>
    <link rel="stylesheet" href="css/incomplete_solution_dialog.css"/>
    <link
      href="https://fonts.googleapis.com/css?family=Architects+Daughter|Smythe|Spectral&display=swap"
      rel="stylesheet"/>
  </head>
  <body>
    <main id="main" class="app__main">
      <template id="chat-message-template">
        <div class="chat-container__frame__message-list__message-text">
          <svg class="bubble-point" width="17" height="12" viewBox="0 0 17 12" fill="currentcolor" xmlns="http://www.w3.org/2000/svg">
            <path d="M7.17778 10.7012C3.4 8.48715 0.62963 3.81307 0 1.47603L9.82222 0C9.82222 0.492009 8.31111 5.16609 10.2 7.38013C12.8444 10.4798 14.7333 11.4392 17 11.8082C13.8519 11.8082 10.5567 12.6815 7.17778 10.7012Z" fill="currentColor"/>
          </svg>
        </div>
      </template>
      <template class="templates__chat-frame">
        <div class="chat-container__frame__bot-name">
        </div>
        <div class="chat-container__frame__messages">
          <ul class="chat-container__frame__message-list">
          </ul>
        </div>
        <div class="chat-container__frame__input-container">
          <form class="chat-container__frame__form">
            <input type="text" class="chat-container__frame__input"/>
            <button type="submit" class="chat-container__frame__send-question-button" disabled>
              Send question
            </button>
          </form>
        </div>
      </template>
      <div class="chat-page">
        <div class="nav-buttons">
          <div class="nav-buttons__button-group">
            <button class="button nav-buttons__button" type="button" data-to="police-notes">
              Police Notes
            </button>
            <button class="button nav-buttons__button" type="button" data-to="map">
              Map
            </button>
            <button class="button nav-buttons__button" type="button" data-to="solve">
              Solve
            </button>
          </div>
          <div class="nav-buttons__button-group nav-buttons__button-group--help-how">
            <button class="button button--small nav-buttons__button" type="button" data-to="help">
              Help
            </button>
            <button class="button button--small nav-buttons__button" type="button" data-to="how">
              How?
            </button>
          </div>
        </div>
        <div class="chat-container">
          <div class="chat-container__frame" data-bot-name="Chef">
          </div>
          <div class="chat-container__frame" data-bot-name="Maid">
          </div>
          <div class="chat-container__frame" data-bot-name="Butler">
          </div>
        </div>
      </div>
    </main>
    <div class="dialog-host">
      <div class="dialog police-notes">
        <div class="notebook police-notes__notebook">
          <div class="notebook-page police-notes__notebook__page police-notes__notebook__page1">
            <h3 class="police-notes__notebook__page__header">
              Rooms
            </h3>
            <ul class="police-notes__notebook__list one-line">
              <li class="police-notes__notebook__list__item">Living Room (Welcoming)</li>
              <li class="police-notes__notebook__list__item">Office (unused?)</li>
              <li class="police-notes__notebook__list__item">Dining Room (Dinner)</li>
              <li class="police-notes__notebook__list__item">Study (Speech)</li>
              <li class="police-notes__notebook__list__item">Kitchen (unused?)</li>
            </ul>
            <h3 class="police-notes__notebook__page__header">
              Events
            </h3>
            <ul class="police-notes__notebook__list one-line">
              <li class="police-notes__notebook__list__item">Welcoming (Maid, Butler)</li>
              <li class="police-notes__notebook__list__item">Speech (Maid, Butler)</li>
              <li class="police-notes__notebook__list__item">Cocktails (Butler)</li>
              <li class="police-notes__notebook__list__item">Dinner (Maid, Butler)</li>
              <li class="police-notes__notebook__list__item">Call to Police (unseen)</li>
            </ul>
          </div>
          <div class="notebook-page police-notes__notebook__page police-notes__notebook__page2">
            <ul class="police-notes__notebook__list">
              <li>Col Gold reported the diamond missing during dinner.</li>
              <li>The glass case it was in was smashed.</li>
              <li>The Colonel called the police on his cell phone.</li>
              <li>All guests refused to speak to the police and retained lawyers.</li>
              <li>The robots know a lot about the house.</li>
              <li>The robots do not know who actually took the diamond or where it is now.</li>
            </ul>
          </div>
        </div>
        <button type="button" data-dialog-action="close" class="button">
          Close
        </button>
      </div>
      <div class="dialog map">
        <div class="map__image-container">
          <img src="img/map.png" class="map__image" alt="Map of the mansion"/>
        </div>
        <button type="button" data-dialog-action="close" class="button">
          Close
        </button>
      </div>
      <div class="dialog solve">
        <form class="notebook solve__notebook">
          <div class="notebook-page solve__notebook__page solve__notebook__page1">
            <h3 class="solve__notebook__page__header solve__notebook__page__list-header">
              Who stole the diamond?
            </h3>
            <ul class="solve__notebook__option-list">
              <li class="solve__notebook__option-list__item">
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="who"
                   id="solve__option__who_1"
                   value="Miss Red"/>
                <label class="solve__notebook__option-label" for="solve__option__who_1">
                  Miss Red
                </label>
              </li>
              <li class="solve__notebook__option-list__item">
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="who"
                   id="solve__option__who_2"
                   value="Professor Pluot"/>
                <label class="solve__notebook__option-label" for="solve__option__who_2">
                  Professor Pluot
                </label>
              </li>
              <li class="solve__notebook__option-list__item">
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="who"
                   id="solve__option__who_3"
                   value="Mrs. Bluejay"/>
                <label class="solve__notebook__option-label" for="solve__option__who_3">
                  Mrs. Bluejay
                </label>
              </li>
              <li class="solve__notebook__option-list__item">
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="who"
                   id="solve__option__who_4"
                   value="Reverend Grass"/>
                <label class="solve__notebook__option-label" for="solve__option__who_4">
                  Reverend Grass
                </label>
              </li>
              <li>
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="who"
                   id="solve__option__who_5"
                   value="Colonel Gold"/>
                <label class="solve__notebook__option-label" for="solve__option__who_5">
                  Colonel Gold
                </label>
              </li>
              <li class="solve__notebook__option-list__item">
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="who"
                   id="solve__option__who_6"
                   value="Mrs. Eggshell"/>
                <label class="solve__notebook__option-label" for="solve__option__who_6">
                  Mrs. Eggshell
                </label>
              </li>
            </ul>

            <h3 class="solve__notebook__page__header solve__notebook__page__list-header">
              What room is it in?
            </h3>
            <ul class="solve__notebook__option-list">
              <li class="solve__notebook__option-list__item">
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="what-room"
                   id="solve__option__what-room_1"
                   value="Living Room"
                 />
                <label class="solve__notebook__option-label" for="solve__option__what-room_1">
                  Living Room
                </label>
              </li>
              <li class="solve__notebook__option-list__item">
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="what-room"
                   id="solve__option__what-room_2"
                   value="Office"
                 />
                <label class="solve__notebook__option-label" for="solve__option__what-room_2">
                  Office
                </label>
              </li>
              <li class="solve__notebook__option-list__item">
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="what-room"
                   id="solve__option__what-room_3"
                   value="Dining Room"
                 />
                <label class="solve__notebook__option-label" for="solve__option__what-room_3">
                  Dining Room
                </label>
              </li>
              <li class="solve__notebook__option-list__item">
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="what-room"
                   id="solve__option__what-room_4"
                   value="Study"
                 />
                <label class="solve__notebook__option-label" for="solve__option__what-room_4">
                  Study
                </label>
              </li>
              <li class="solve__notebook__option-list__item">
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="what-room"
                   id="solve__option__what-room_5"
                   value="Kitchen"
                 />
                <label class="solve__notebook__option-label" for="solve__option__what-room_5">
                  Kitchen
                </label>
              </li>
            </ul>
          </div>
          <div class="notebook-page solve__notebook__page solve__notebook__page2">
            <h3 class="solve__notebook__page__header solve__notebook__page__list-header">
              What container is it in?
            </h3>
            <ul class="solve__notebook__option-list">
              <li class="solve__notebook__option-list__item">
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="what-container"
                   id="solve__option__what-container_1"
                   value="A Flour Jar"
                 />
                <label class="solve__notebook__option-label" for="solve__option__what-container_1">
                  A Flour Jar
                </label>
              </li>
              <li class="solve__notebook__option-list__item">
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="what-container"
                   id="solve__option__what-container_2"
                   value="A Safe"
                 />
                <label class="solve__notebook__option-label" for="solve__option__what-container_2">
                  A Safe
                </label>
              </li>
              <li class="solve__notebook__option-list__item">
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="what-container"
                   id="solve__option__what-container_3"
                   value="A Hollow Bible"
                 />
                <label class="solve__notebook__option-label" for="solve__option__what-container_3">
                  A Hollow Bible
                </label>
              </li>
              <li class="solve__notebook__option-list__item">
                <input
                   type="radio"
                   class="solve__notebook__option"
                   name="what-container"
                   id="solve__option__what-container_4"
                   value="A Gravy Boat"
                 />
                <label class="solve__notebook__option-label" for="solve__option__what-container_4">
                  A Gravy Boat
                </label>
              </li>
            </ul>
            <svg
                 class="solve__notebook__divider"
                 width="456"
                 height="9"
                 viewBox="0 0 456 9"
                 fill="none"
                 xmlns="http://www.w3.org/2000/svg">
              <path d="M1.65186 3.91205C41.7151 3.64044 81.495 1.68497 121.599 2.95776C182.25 4.88265 242.877 9.16425 303.575 7.06855C330.908 6.12482 358.146 2.7431 385.497 2.59073C397.092 2.52613 408.968 1.85563 420.476 3.58172C429.318 4.90806 437.264 4.31919 445.911 2.26039C448.776 1.57839 451.933 1.93006 454.867 1.93006" stroke="black" stroke-opacity="0.45" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div class="solve__notebook__submit-theory-container">
              <h3 class="solve__notebook__page__header">
                Submit your theory to the agency?
              </h3>
              <div class="solve__notebook__submit-buttons">
                <button class="button solve__notebook__submit-button" type="submit">
                  Yes
                </button>
                <button type="button" class="button solve__notebook__cancel-button">
                  No
                </button>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="dialog help">
        <div class="help__container">
          <h3 class="help__header">
            OPEN CASE: MacGuffin Diamond - STOLEN
          </h3>
          <div class="help__columns">
            <div class="help__column">
              <p class="help__intro">
                Crack the case by interviewing the three robot servants -- the Butler, the Maid and the Chef.
              </p>
              <p>
                Interview the robots and find out:
              </p>
              <ol>
                <li>who stole the diamond</li>
                <li>what room it is hidden in</li>
                <li>what container it is in</li>
              </ol>
              <p>
                To solve the case, hit the SOLVE Button
              </p>
              <p>
                To see a map of the house, hit the MAP button
              </p>
              <p>
                To see the police notes, hit the POLICE NOTES button
              </p>
            </div>
            <div class="help__column">
              <h4>
                Click the bot you want to question, then type the question.
              </h4>
              <p>
                Examples:
              </p>
              <p>
                What happened during dinner?
                <br />
                Where were you during cocktails?
                <br/>
                What was for dinner?
              </p>
              <p>
                Get on it, detective!
              </p>
            </div>
          </div>
        </div>
        <button type="button" data-dialog-action="close" class="button">
          Close
        </button>
      </div>
      <div class="dialog how">
        <div class="how__container">
          <h3 class="how__intro">
            MysteryBot was created using machine learning and natural language understanding.
            Here's how it works&hellip;
          </h3>
          <p>
            A deep-learning model, trained on billions of lines of conversation, enables players to
            talk to the robots through a technique called <strong>“semantic matching,”</strong>
            sometimes called <strong>“fuzzy matching.”</strong>
          </p>
          <p>
            The robots you interview in the game are actually made up of just <strong>200 or so
            pre-written conversation pairs.</strong> As the goal of the player is fixed (solve the
            mystery) the game writers anticipated the kinds of questions a player would ask. For
            example: “What did Miss Red do during dinner?” and “What container is in the Living
            Room?”
          </p>
          <p>
            However, players will often use different words to ask those same questions. For
            example: “Did Ms. Red act weird at dinner?” and “Any place to hide something in the
            Living Room?” This is where the NLU comes in.
          </p>
          <p>
            <strong>To create the illusion of open conversation, the model handles player queries by
            semantically matching them to a pre-written query.</strong> Essentially, the model
            says: “The player said this, and that’s pretty close in meaning to this anticipated
            query, so I’ll return that one.”
          </p>
          <p>
            <strong>
              Semantic matching is used in many digital personal assistants, customer service
              platforms and other applications. MysteryBot is a small example of how it might be
              used within a game.
            </strong>
          </p>
        </div>
        <button type="button" data-dialog-action="close" class="button">
          Close
        </button>
      </div>
      <div class="dialog win">
        <img src="img/win-certificate.jpg" alt="Certificate of acheivement"/>
      </div>
      <div class="dialog incorrect-solution">
        <div class="container">
          <p class="comm-link-open">
            Black Hat Investigations Secure
            <br />
            Communication Link Open
          </p>
          <h3 class="subject">
            RE: OPEN CASE: MacGuffin Diamond -- Stolen
          </h3>
          <p>
            <strong>
              Detective, your solution is incorrect.
            </strong>
          </p>
          <p>
            Did we hire the right person for this job?
          </p>
        </div>
      </div>
      <div class="dialog incomplete-solution">
        <div class="container">
          <p class="comm-link-open">
            Black Hat Investigations Secure
            <br />
            Communication Link Open
          </p>
          <h3 class="subject">
            RE: OPEN CASE: MacGuffin Diamond -- Stolen
          </h3>

          <p>
            <strong>
              Detective, your solution is incomplete. Your solution needs to contain all three
              elements:
            </strong>
          </p>
          <ol>
            <li>What suspect stole the diamond?</li>
            <li>In what room is the stolen diamond?</li>
            <li>In what object is the diamond hidden</li>
          </ol>
          <p>
            Did we hire the right person for this job?
          </p>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/universal-sentence-encoder">
    </script>
    <script type="module" src="js/main.js"></script>
  </body>
</html>
